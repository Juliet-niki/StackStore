<app-navigation-bar></app-navigation-bar>

<div class="bg-white font-sans" *ngIf="productDetails">
  <main
    class="flex flex-col gap-1 lg:mt-28 md:mt-24 mt-20 pb-20 lg:px-36 md:px-24 sm:px-16 px-6"
  >
    <button
      (click)="goBack()"
      class="text-black text-[1rem] font-medium py-1 mb-2 w-20 bg-gray-200 hover:text-gray-700 cursor-pointer rounded-lg"
    >
      <i class="fas fa-angle-left"></i>
      Back
    </button>
    <div class="sm:flex border-blue-600 border-2 rounded-xl bg-blue-200">
      <div
        class="bg-white sm:rounded-l-xl sm:rounded-t-none rounded-t-xl mx-auto pt-1"
      >
        <img
          [src]="productDetails.image"
          [alt]="productDetails.name"
          class="object-contain lg:w-80 md:w-96 sm:w-80 w-full lg:h-80 md:h-72 h-64"
        />
      </div>

      <div class="text-gray-700 flex flex-col px-4 py-4">
        <h3 class="font-bold md:text-[1.5rem] text-[1.2rem] text-gray-800">
          {{ productDetails.name }}
        </h3>
        <p class="md:text-[1rem] text-[0.8rem]">
          {{ productDetails.fullDescription }}
        </p>
        <p
          class="font-medium text-gray-950 md:text-[1.3rem] text-[1.1rem] pt-2"
        >
          â‚¦{{ productDetails.price }}
        </p>
        <p class="text-md">
          <span class="font-medium">Brand:</span> {{ productDetails.brandName }}
        </p>
        <span class="sm:mt-auto mt-10">
          <div class="rating flex gap-1">
            <p class="font-medium md:text-[1rem] text-[0.9rem] mr-1">Rating:</p>
            <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
              <mat-icon
                *ngIf="productDetails.rating !== undefined"
                color="warn"
                (click)="updateRating(productDetails, i + 1)"
                class="cursor-pointer"
              >
                {{ i < productDetails.rating ? "star" : "star_border" }}
              </mat-icon>
            </ng-container>
          </div>
        </span>
        <app-cart-button [productItem]="productDetails"></app-cart-button>
      </div>
    </div>
  </main>
</div>

<app-catalogue [products]="filterProducts"></app-catalogue>
